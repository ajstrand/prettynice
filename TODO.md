# TODO

- [X] Kill exploration history and move to github
- [X] Add example with FE components
- [X] Mount handlers as full tea modules? Manual example only for now.
- [X] Update main project README
- [X] Helpful error message when compile fails from unsupported loader type
- [X] === Get feedback on the API ===
- [X] Client-side ports
- [X] js console error: The script from “http://localhost:3000/main.js” was loaded even though its MIME type (“”) is not a valid JavaScript MIME type.
- [X] Improve component codegen with a required Props record
- [X] More supported component prop types
- [X] Change examples to use local package path for prettynice instead of src in gren.json
- [X] Clean up all the scattered gren.json, package.json, node_modules, etc.
- [X] Justfile and entr for running/watching examples
- [X] Add a form POST example
- [X] Special characters in form data
- [X] Custom `<head>` elements
- [X] Fix static image handling in node `HttpServer`
- [X] CSS example
- [X] Response.sendBytes
- [X] Database example using ports?
- [X] Support Array and Maybe in Props
- [X] Fix components nested under a parent module (e.g. client/Components/Foo/Bar.gren)
- [X] Handle TODO comments in code. Move things here or to github issues if they don't need to be addressed yet.
- [X] Use HttpServer.requestInfo for request logging in the terminal.
- [X] Move build logic into cli
- [ ] Distinguish between dev and prod runs. Scripts should look like:
    - dev: build without --optimize and run with watcher (switch to an npm package for watch?)
    - build: build with --optimize
    - start: node dist/server/server.js
- [ ] Test deeply-nested types in Props. E.g. Array (Array (Array Int))
- [ ] Improve cli interface and server startup output (with charm.sh/gum?)
- [ ] production builds with --optimize
- [ ] New project generator (charm.sh/gum?) with variants for:
  - [ ] Single file - Router
  - [ ] Single File - Program
  - [ ] Multi-file - Router
  - [ ] Multi-file - Program
- [ ] Document/Support (via generator?) trying the framework without an official package released
- [ ] Deployment example + docs.
  - [ ] sqlite vs postgresql (easy local dev vs easy management deployment?)
  - [ ] Fly.io vs Render.com
- [ ] **=== Pre-release for testing / feedback ===**
- [ ] Unit Tests. Especially Prettynice.Props
- [ ] Start migrating pencils.dev
- [ ] API Docs (reminder: use gren-doc-preview):
- [ ] **=== release 1.0 ===**
- [ ] Doc site. Link on github project.
- [ ] Link to appropriate sections of the doc site from prettynice READMEs and API docs:
    - [ ] Client-side component example README (prop field types)
    - [ ] Main project README
    - [ ] Error message when props can't be parsed in cli.
- [ ] Flesh out gren guide with application info?:
  - [ ] Add arrays to pattern matching section (I'm linking to this from my basic router example)
  - [ ] Add section on creating full applications (in browser and in node?)
- [ ] Post:
  - [ ] blog.blaix.com
  - [ ] zulip
  - [ ] mastodon
  - [ ] discord
  - [ ] twitter?
- [ ] Think about CSS post-processing:
  - [ ] tailwind? (meh)
  - [ ] bulma.io looks nice (no js!), maybe worth a UI package? look at https://package.elm-lang.org/packages/surprisetalk/elm-bulma/
  - [ ] look at <https://www.npmjs.com/package/@ryannhg/css-in-elm>
- [ ] Think about JS bundling/transpiling:
  - [ ] vite? support importing .gren files?
  - [ ] swc?
- [ ] Cookies & Sessions
- [ ] Experiment with HTM[X|Z] integration / progressive enhancement:
  - [ ] Form submissions? See https://remix.run/docs/en/main/components/form
  - [ ] Server-side components?
  - [ ] toBackend/toFrontend messages?
  - [ ] If I just need to replace elements on the page: https://leanrada.com/htmz/
- [ ] [RealWorld](https://github.com/gothinkster/realworld) example app
- [ ] Can/Should Prettynice help with breaking up routes into standoline TEA-style modules (see examples/tea-modules)
- [ ] Support records in component Props field types
- [ ] Redirect helpers?
- [ ] Handle multipart/form-data and file uploads
- [ ] Speed up build step. Parallelize build tasks? (codegen has to happen before client/server builds)
- [ ] Responses that align with the request content-type (e.g. 404 that returns html, string, or json depending on the request)

## Open questions and future ideas

- [ ] Is there anything that can be done about the duplication between Prettynice.gren and Prettynice.SimpleRouter.gren?
- [ ] Persistence? Database interaction? (Ports/Prisma, Gren Process API, TCP protocol, actual adapter?)
- [ ] ^ Keep an eye on the [elm->pgsql](https://discourse.elm-lang.org/t/elm-postgres-and-nothing-inbetween/9557/1) stuff by @damir (watch elm discourse and Incremental Elm discord).
- [ ] SSE? Websockets?
- [ ] SSR + hydration for components? Is there value?
- [ ] Emails? (Mario from Lamdera recommends https://postmarkapp.com/)
- [ ] Metrics? Prometheus (integrates with Caddy https://caddyserver.com/docs/metrics)?
